(()=>{"use strict";var e={28:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.channels,n=e.sampleRate;console.log(t);var r=new Mp3LameEncoder(n,192);r.encode(t);var a=r.finish();return console.log(a),a},self.Mp3LameEncoderConfig={memoryInitializerPrefixURL:"../vendor/",TOTAL_MEMORY:1073741824},self.importScripts("../vendor/Mp3LameEncoder.min.js")},267:(e,t)=>{function n(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.channels,r=e.sampleRate,a=function(e,t,r){var a=new ArrayBuffer(44+2*e.length),o=new DataView(a);return n(o,0,"RIFF"),o.setUint32(4,32+2*e.length,!0),n(o,8,"WAVE"),n(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,t,!0),o.setUint32(24,r,!0),o.setUint32(28,r*(2*t),!0),o.setUint16(32,2*t,!0),o.setUint16(34,16,!0),n(o,36,"data"),o.setUint32(40,2*e.length,!0),function(e,t,n){for(var r=0;r<n.length;r++,t+=2){var a=n[r];a<0?(a<-1&&(a=-1),a*=32768):(a>1&&(a=1),a*=32767),e.setInt16(t,a,!0)}}(o,44,e),o}(function(e){if(1===e.length)return e[0];for(var t=e[0],n=e[1],r=t.length+n.length,a=new Float32Array(r),o=0,i=0;o<r;)a[o++]=t[i],a[o++]=n[i],i++;return a}(t),t.length,r);return new Blob([a],{type:"audio/wav"})}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e=r(n(267)),t=r(n(28));function r(e){return e&&e.__esModule?e:{default:e}}var a={wav:e.default,mp3:t.default};self.onmessage=function(e){var t=e.data,n=t.type,r=t.id,o=t.audioData,i=void 0;try{var s=a[n];if(!s)throw new Error("Unkown audio encoding");i=s(o)}catch(e){postMessage({id:r,error:!0,message:e.toString()})}postMessage({id:r,error:!1,blob:i})}})()})();